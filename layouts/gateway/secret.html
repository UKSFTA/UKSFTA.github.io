{{ define "main" }}
<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <h1 class="govuk-heading-l">{{ .Title }}</h1>
    
    <div id="secret-content" style="display:none">
      <div class="govuk-panel govuk-panel--confirmation" style="background-color: #532a45;">
        <h2 class="govuk-panel__title">Verification Successful</h2>
        <div class="govuk-panel__body">
          Authorised Signal Officer Detected
        </div>
      </div>
      <p class="govuk-body govuk-!-margin-top-4">
        <strong>FLAG: UKSF{M3TADATA_M4N1PULAT10N_SUCCESS}</strong>
      </p>
      <div class="govuk-body">
        Welcome, Root User. The current SIGINT archives are now available for inspection.
      </div>
    </div>

    <div id="denied-content">
      <div class="govuk-warning-text">
        <span class="govuk-warning-text__icon" aria-hidden="true">!</span>
        <strong class="govuk-warning-text__text">
          <span class="govuk-warning-text__assistive">Warning</span>
          Access Denied. Error Code: 403 (Clandestine Pattern Mismatch).
        </strong>
      </div>
      <p class="govuk-body">
        This directory is restricted to search engine crawlers (Googlebot) and Administrative Root sessions.
      </p>
    </div>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const userAgent = navigator.userAgent;
  const cookies = document.cookie;
  
  const isGoogleBot = userAgent.toLowerCase().includes('googlebot');
  const isRoot = cookies.includes('user=root');

  if (isGoogleBot || isRoot) {
    document.getElementById('secret-content').style.display = 'block';
    document.getElementById('denied-content').style.display = 'none';
  }
});
</script>
{{ end }}
