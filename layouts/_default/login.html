{{ define "main" }}
<section class="min-h-screen flex items-center justify-center bg-black relative overflow-hidden">
    <div class="absolute inset-0 bg-grid-white opacity-10"></div>
    
    <div class="container-uksf relative z-10 max-w-md w-full">
        <div class="bracket-box bg-black/80 backdrop-blur-3xl border-white/10 p-12 shadow-2xl">
            <div class="text-center mb-12 space-y-4">
                {{ $mod_logo := resources.Get "icons/MOD.png" }}
                {{ if $mod_logo }}
                <img src="{{ $mod_logo.RelPermalink }}" class="h-16 mx-auto grayscale brightness-200 opacity-40">
                {{ end }}
                <h2 class="text-3xl font-black tracking-tighter uppercase">Directorate Registry</h2>
                <span id="terminal-status" class="text-[8px] font-mono text-[var(--primary)] uppercase tracking-[0.4em]">Node Authorization Required</span>
            </div>

            <form id="login-form" class="space-y-8">
                <div class="space-y-4">
                    <div class="flex flex-col space-y-2">
                        <label class="text-[7px] font-mono text-gray-600 uppercase tracking-widest font-bold">Registry ID</label>
                        <input type="text" id="operator-id" placeholder="ID_ALPHA_99" class="bg-white/5 border border-white/10 p-4 text-xs font-mono text-white focus:border-[var(--primary)] outline-none transition-all placeholder:opacity-20 uppercase">
                    </div>
                    <div class="flex flex-col space-y-2">
                        <label class="text-[7px] font-mono text-gray-600 uppercase tracking-widest font-bold">Authorization Key</label>
                        <input type="password" id="access-key" class="bg-white/5 border border-white/10 p-4 text-xs font-mono text-white focus:border-[var(--primary)] outline-none transition-all">
                    </div>
                </div>

                <button type="submit" id="auth-btn" class="w-full btn-elite bg-[var(--primary)] text-white hover:bg-white hover:text-black">
                    Initiate Authorization
                </button>
            </form>

            <div class="mt-12 pt-8 border-t border-white/5 text-center">
                <p class="text-[7px] font-mono text-gray-700 uppercase tracking-widest leading-loose">
                    Security Warning: Access to this registry is logged. Unauthorized entry attempts are flagged for Signals Intelligence review.
                </p>
            </div>
        </div>
    </div>
</section>

<script>
// The "Secret" Credentials for those who find the gate
document.getElementById('login-form').addEventListener('submit', function(e) {
    e.preventDefault();
    const id = document.getElementById('operator-id').value.toUpperCase();
    const btn = document.getElementById('auth-btn');
    const status = document.getElementById('terminal-status');

    btn.innerText = "AUTHORIZING...";
    btn.disabled = true;

    setTimeout(() => {
        if (id === "DSF-ALPHA-01" || id === "SIGINT-RECON") {
            status.innerText = "ACCESS GRANTED // REDIRECTING";
            status.style.color = "#22c55e";
            localStorage.setItem('uksf_auth', 'authorized');
            window.location.href = "/archive/covert";
        } else {
            status.innerText = "INVALID REGISTRY ID";
            status.style.color = "#ef4444";
            btn.innerText = "Initiate Authorization";
            btn.disabled = false;
        }
    }, 1500);
});
</script>
{{ end }}