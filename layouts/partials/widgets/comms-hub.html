<div class="comms-hub-container flex flex-col h-full {{ with .class }}{{ . }}{{ end }} relative transition-colors duration-300">
    <!-- 1. Live Operations Segment -->
    <div class="p-6 border-b border-[var(--border-main)] space-y-6">
        <div class="flex items-center justify-between">
            <span class="text-[8px] font-body font-bold text-[var(--text-secondary)] uppercase tracking-widest">// Live_Theater</span>
            <div class="flex items-center gap-2 bg-mod-green/10 px-2 py-0.5 border border-mod-green/20">
                <div id="status-indicator" class="w-1 h-1 bg-mod-green rounded-full animate-pulse shadow-sm"></div>
                <span id="status-text" class="text-[7px] font-body font-bold text-mod-green tracking-widest uppercase">ACTIVE</span>
            </div>
        </div>

        <div class="live-ops-feed-container">
            {{ partial "widgets/unitcommander.html" (dict "class" "!p-0 !bg-transparent !border-0") }}
        </div>

        <!-- Battlemetrics Telemetry -->
        <div class="space-y-3 pt-4 border-t border-[var(--border-main)]">
            <div class="flex justify-between items-center mb-1 font-mono">
                <span class="text-[7px] font-bold text-[var(--text-secondary)] uppercase tracking-widest">// Telemetry</span>
                <span id="player-count" class="text-[8px] text-[var(--text-main)] font-bold tracking-widest uppercase">SYNCING...</span>
            </div>
            <div id="battlemetrics-graph" class="h-20 bg-white/5 border border-[var(--border-main)] relative overflow-hidden flex items-center justify-center text-[7px] text-[var(--text-main)] uppercase tracking-widest font-mono font-bold">
                Uplink_Sync...
            </div>
            <div class="flex justify-between items-center px-1 font-mono">
                <div class="flex gap-2">
                    <button onclick="setBattlemetricsRange('today')" class="bm-range-btn active text-[6px] font-bold text-[var(--text-main)] uppercase tracking-widest border border-[var(--border-main)] px-1.5 py-0.5 hover:bg-white/10 transition-colors" data-range="today">24H</button>
                    <button onclick="setBattlemetricsRange('week')" class="bm-range-btn text-[6px] font-bold text-[var(--text-main)] uppercase tracking-widest border border-[var(--border-main)] px-1.5 py-0.5 hover:bg-white/10 transition-colors" data-range="week">7D</button>
                </div>
                <span class="text-[6px] text-[var(--text-secondary)] uppercase font-bold">BM_SRV_722</span>
            </div>
        </div>
    </div>

    <!-- 2. Discord Link Segment -->
    <div class="p-6 bg-white/5 flex-1 flex flex-col justify-center">
        <div class="flex items-center gap-4 mb-4">
            <span class="text-[8px] font-body font-bold text-[var(--text-secondary)] uppercase tracking-widest">Network_Status</span>
            <div class="h-px bg-[var(--border-main)] flex-1"></div>
        </div>
        {{ partial "widgets/discord.html" (dict "class" "!p-0 !bg-transparent !border-0") }}
    </div>
</div>
