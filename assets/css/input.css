@import "tailwindcss";
@plugin "@tailwindcss/typography";

@theme {
  --color-tactical-black: #050505;
  --color-tactical-dark: #0a0a0a;
  --color-tactical-grey: #121212;
  --color-uksf-gold: #b3995d;
  --color-uksf-blue: #002366;
  --color-uksf-green: #153e35;
  --color-uksf-red: #800000;

  --font-industrial: "Archivo", "Inter", "Impact", sans-serif;
  --font-mono: "JetBrains Mono", "SFMono-Regular", Menlo, Monaco, Consolas, monospace;
  --font-body: "Inter", "system-ui", "Arial", sans-serif;

  --animate-pulse-fast: pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@layer base {
  :root {
    --primary: #b3995d;
    --primary-glow: rgba(179, 153, 93, 0.3);
    --bg-dark: #0b0b0b;
    --header-height: 100px;
    --hmg-bar-height: 40px;
  }

  body {
    background-color: var(--bg-dark);
    color: #d1d5db;
    font-family: var(--font-body);
    font-size: 18px;
    line-height: 1.6;
    -webkit-font-smoothing: antialiased;
    padding-top: calc(var(--header-height) + var(--hmg-bar-height));
    @apply font-normal;
    background-image: 
      radial-gradient(circle at 50% 0%, rgba(255,255,255,0.015) 0%, transparent 80%),
      url('https://www.transparenttextures.com/patterns/black-linen.png');
    background-attachment: fixed;
  }

  h1, h2, h3, h4 {
    font-family: var(--font-industrial);
    text-transform: uppercase;
    letter-spacing: -0.04em;
    color: white;
    line-height: 0.85;
    @apply font-black;
  }

  img { object-fit: contain; max-width: 100%; height: auto; }
  .object-cover { object-fit: cover !important; }

  label, .sub-header {
    font-family: var(--font-mono);
    @apply text-[9px] font-bold uppercase tracking-[0.3em] text-gray-500;
  }
}

@layer components {
  .container-uksf {
    @apply w-full max-w-[1200px] mx-auto px-10;
  }

  .nav-header {
    @apply fixed left-0 w-full z-[2000] border-b border-white/5 bg-black/90 backdrop-blur-2xl;
    height: var(--header-height);
  }

  .nav-link {
    font-family: var(--font-mono);
    @apply text-[10px] font-black uppercase tracking-[0.4em] text-gray-600 transition-all no-underline;
    &:hover, &.active { @apply text-white; }
  }

  .dossier-node {
    @apply relative border-l-4 border-[var(--primary)] pl-12 py-6 mb-16;
    background: linear-gradient(to right, rgba(179, 153, 93, 0.05), transparent);
    backface-visibility: hidden;
    transform: translateZ(0);
  }

  .bracket-box {
    @apply relative border border-white/5 bg-white/[0.01] p-12 transition-all duration-500;
    &::before, &::after {
      content: "";
      @apply absolute w-2 h-2 border-[var(--primary)]/40 pointer-events-none;
    }
    &::before { @apply top-0 left-0 border-t-2 border-l-2; }
    &::after { @apply bottom-0 right-0 border-b-2 border-r-2; }
  }

  .btn-elite {
    @apply inline-flex items-center justify-center px-12 py-5 bg-white text-black font-mono font-black text-xs uppercase tracking-[0.5em] transition-all relative overflow-hidden;
    text-decoration: none !important;
    &:hover {
      @apply bg-[var(--primary)] text-white shadow-[0_0_60px_var(--primary-glow)] -translate-y-0.5;
    }
  }

  .terminal-input {
    @apply w-full bg-black/40 border border-white/10 p-5 text-xs font-mono text-white outline-none transition-all placeholder:text-gray-800;
    &:focus {
      @apply border-[var(--primary)] bg-[var(--primary)]/5 shadow-[0_0_30px_rgba(179,153,93,0.1)];
    }
  }

  .icon-tactical {
    @apply grayscale-0 brightness-100 contrast-100;
    transition: all 0.5s ease;
  }

  .text-display { 
    font-size: clamp(4rem, 12vw, 9.5rem); 
    @apply font-black tracking-tighter leading-[0.8];
  }

  /* Intelligence Body Refinement */
  .intelligence-body {
    @apply prose-headings:font-black prose-headings:tracking-tighter prose-headings:uppercase prose-p:leading-relaxed prose-p:mb-12 prose-strong:text-white prose-strong:font-bold;
    
    h2 {
      @apply text-5xl border-b border-white/10 pb-8 mb-12 mt-24 flex items-center gap-8;
      &::before {
        content: "";
        @apply w-12 h-1 bg-[var(--primary)];
      }
    }

    h3 { @apply text-3xl mb-8 mt-20 text-gray-200; }
    p { @apply text-gray-400 font-normal text-xl leading-relaxed; }

    ul {
      list-style: none !important;
      @apply border-l border-white/5 pl-12 ml-4 space-y-8 my-16;
    }
    ul > li {
      @apply relative m-0 p-0;
      list-style-type: none !important;
    }
    ul > li::marker { content: none !important; }
    ul > li::before {
      content: "//" !important;
      @apply absolute -left-12 text-[var(--primary)] font-mono font-black opacity-30;
    }

    blockquote {
      @apply border-l-4 border-gray-800 bg-white/[0.01] p-12 italic text-2xl text-gray-300 rounded-none not-italic font-light mb-20;
    }
  }

  .spec-item {
    @apply flex justify-between items-center border-b border-white/5 py-3;
    span:first-child { @apply font-mono text-[9px] text-gray-600 uppercase tracking-widest; }
    span:last-child { @apply font-mono text-[11px] font-black text-white uppercase tracking-wider; }
  }

  /* Covert Asset Visibility Logic */
  .covert-node {
    display: none !important;
  }
  .operator-authenticated .covert-node {
    display: flex !important;
  }
}

@layer utilities {
  .bg-grid-white {
    background-size: 60px 60px;
    background-image: 
      linear-gradient(to right, rgba(255,255,255,0.02) 1px, transparent 1px),
      linear-gradient(to bottom, rgba(255,255,255,0.02) 1px, transparent 1px);
  }
}